{"version":3,"file":"OTP-page.js","sources":["../src/js/password-code.js"],"sourcesContent":["const refs = {\n  verifyButton: document.querySelector('.js-verify-button'),\n  modalWindowBackDrop: document.querySelector('.modal-backdrop'),\n  inputsContainer: document.querySelector('.code-input-container'),\n  firstInput: document.querySelector('.input-code'),\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  refs.firstInput.focus();\n});\n\nrefs.inputsContainer.addEventListener('input', e => {\n  if (e.target.classList.contains('input-code')) {\n    const inputs = Array.from(document.querySelectorAll('.input-code'));\n    const index = inputs.indexOf(e.target);\n\n    if (e.target.value.length === 1 && index < inputs.length - 1) {\n      inputs[index + 1].focus();\n    }\n  }\n});\n\nrefs.verifyButton.addEventListener('click', e => {\n  e.preventDefault();\n\n  const inputs = Array.from(document.querySelectorAll('.input-code'));\n  const allFilled = inputs.every(input => input.value.length === 1);\n\n  let errorMessage = refs.inputsContainer.querySelector('.forgot-message-text');\n\n  if (allFilled) {\n    refs.modalWindowBackDrop.classList.add('is-open');\n  } else {\n    if (!errorMessage) {\n      refs.inputsContainer.insertAdjacentHTML('afterend', messageTemplate());\n      errorMessage = refs.inputsContainer.nextElementSibling;\n      errorMessage.style.marginBottom = '14px';\n\n      setTimeout(() => {\n        errorMessage.classList.add('visible');\n      }, 0);\n    }\n  }\n});\n\nrefs.modalWindowBackDrop.addEventListener('click', () => {\n  refs.modalWindowBackDrop.classList.remove('is-open');\n});\n\nfunction messageTemplate() {\n  return `<p class=\"forgot-message-text\">Please fill in all the inputs!</p>`;\n}\n"],"names":["refs","e","inputs","index","allFilled","input","errorMessage","messageTemplate"],"mappings":"oCAAA,MAAMA,EAAO,CACX,aAAc,SAAS,cAAc,mBAAmB,EACxD,oBAAqB,SAAS,cAAc,iBAAiB,EAC7D,gBAAiB,SAAS,cAAc,uBAAuB,EAC/D,WAAY,SAAS,cAAc,aAAa,CAClD,EAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClDA,EAAK,WAAW,OAClB,CAAC,EAEDA,EAAK,gBAAgB,iBAAiB,QAASC,GAAK,CAClD,GAAIA,EAAE,OAAO,UAAU,SAAS,YAAY,EAAG,CAC7C,MAAMC,EAAS,MAAM,KAAK,SAAS,iBAAiB,aAAa,CAAC,EAC5DC,EAAQD,EAAO,QAAQD,EAAE,MAAM,EAEjCA,EAAE,OAAO,MAAM,SAAW,GAAKE,EAAQD,EAAO,OAAS,GACzDA,EAAOC,EAAQ,CAAC,EAAE,MAAK,CAE1B,CACH,CAAC,EAEDH,EAAK,aAAa,iBAAiB,QAASC,GAAK,CAC/CA,EAAE,eAAc,EAGhB,MAAMG,EADS,MAAM,KAAK,SAAS,iBAAiB,aAAa,CAAC,EACzC,MAAMC,GAASA,EAAM,MAAM,SAAW,CAAC,EAEhE,IAAIC,EAAeN,EAAK,gBAAgB,cAAc,sBAAsB,EAExEI,EACFJ,EAAK,oBAAoB,UAAU,IAAI,SAAS,EAE3CM,IACHN,EAAK,gBAAgB,mBAAmB,WAAYO,EAAiB,CAAA,EACrED,EAAeN,EAAK,gBAAgB,mBACpCM,EAAa,MAAM,aAAe,OAElC,WAAW,IAAM,CACfA,EAAa,UAAU,IAAI,SAAS,CACrC,EAAE,CAAC,EAGV,CAAC,EAEDN,EAAK,oBAAoB,iBAAiB,QAAS,IAAM,CACvDA,EAAK,oBAAoB,UAAU,OAAO,SAAS,CACrD,CAAC,EAED,SAASO,GAAkB,CACzB,MAAO,mEACT"}